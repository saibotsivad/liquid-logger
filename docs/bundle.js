var asr=function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t((function(t,e){t.exports=function(){function t(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(e,n){var a;return n&&!0===n.clone&&t(e)?r((a=e,Array.isArray(a)?[]:{}),e,n):e}function n(n,a,o){var i=n.slice();return a.forEach((function(a,c){void 0===i[c]?i[c]=e(a,o):t(a)?i[c]=r(n[c],a,o):-1===n.indexOf(a)&&i.push(e(a,o))})),i}function r(a,o,i){var c=Array.isArray(o),s=(i||{arrayMerge:n}).arrayMerge||n;return c?Array.isArray(a)?s(a,o,i):e(o,i):function(n,a,o){var i={};return t(n)&&Object.keys(n).forEach((function(t){i[t]=e(n[t],o)})),Object.keys(a).forEach((function(c){t(a[c])&&n[c]?i[c]=r(n[c],a[c],o):i[c]=e(a[c],o)})),i}(a,o,i)}return r.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return r(t,n,e)}))},r}()})),n=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},r=c,a=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");function o(t,e,n){return t.keys=e,t.allTokens=n,t}function i(t){return t.sensitive?"":"i"}function c(t,e,r,s){if(s=s||[],n(e=e||[])?r||(r={}):(r=e,e=[]),t instanceof RegExp)return function(t,e,n){var r=t.source.match(/\((?!\?)/g);if(r)for(var a=0;a<r.length;a++)e.push({name:a,delimiter:null,optional:!1,repeat:!1});return o(t,e,n)}(t,e,r);if(n(t))return function(t,e,n,r){for(var a=[],s=0;s<t.length;s++)a.push(c(t[s],e,n,r).source);return o(new RegExp("(?:"+a.join("|")+")",i(n)),e,r)}(t,e,r,s);var u=r.strict,l=!1!==r.end,f=function(t,e,n){var r=0,o=0;function i(t){0===o&&"/"!==t[0]&&(t="/"+t),n.push({string:t})}var c=t.replace(a,(function(a,c,s,u,l,f,d,p,h){if(c)return c;if(p)return"\\"+p;var m="+"===d||"*"===d,v="?"===d||"*"===d;h>o&&i(t.substring(o,h)),o=h+a.length;var g={name:u||r++,delimiter:s||"/",optional:v,repeat:m};return e.push(g),n.push(g),s=s?"\\"+s:"",l=function(t){return t.replace(/([=!:$\/()])/g,"\\$1")}(l||f||"[^"+(s||"\\/")+"]+?"),m&&(l=l+"(?:"+s+l+")*"),v?"(?:"+s+"("+l+"))?":s+"("+l+")"}));return o<t.length&&i(t.substring(o)),c}(t,e,s),d="/"===t.charAt(t.length-1);return u||(f=(d?f.slice(0,-2):f)+"(?:\\/(?=$))?"),f+=l?"$":u&&d?"":"(?=\\/|$)",o(new RegExp("^"+f,i(r)),e,s)}var s=t((function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var t,r,a=[];if(0===this._eventsCount)return a;for(r in t=this._events)e.call(t,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(t)):a},o.prototype.listeners=function(t,e){var r=n?n+t:t,a=this._events[r];if(e)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var o=0,i=a.length,c=new Array(i);o<i;o++)c[o]=a[o].fn;return c},o.prototype.emit=function(t,e,r,a,o,i){var c=n?n+t:t;if(!this._events[c])return!1;var s,u,l=this._events[c],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,a),!0;case 5:return l.fn.call(l.context,e,r,a,o),!0;case 6:return l.fn.call(l.context,e,r,a,o,i),!0}for(u=1,s=new Array(f-1);u<f;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,a);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[u].fn.apply(l[u].context,s)}}return!0},o.prototype.on=function(t,e,r){var o=new a(e,r||this),i=n?n+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.once=function(t,e,r){var o=new a(e,r||this,!0),i=n?n+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.removeListener=function(t,e,a,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[i],this;var c=this._events[i];if(c.fn)c.fn!==e||o&&!c.once||a&&c.context!==a||(0==--this._eventsCount?this._events=new r:delete this._events[i]);else{for(var s=0,u=[],l=c.length;s<l;s++)(c[s].fn!==e||o&&!c[s].once||a&&c[s].context!==a)&&u.push(c[s]);u.length?this._events[i]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[i]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,o.EventEmitter=o,t.exports=o})),u=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))},l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function p(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var h=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,a=p(t),o=1;o<arguments.length;o++){for(var i in n=Object(arguments[o]))f.call(n,i)&&(a[i]=n[i]);if(l){r=l(n);for(var c=0;c<r.length;c++)d.call(n,r[c])&&(a[r[c]]=n[r[c]])}}return a};function m(t,e){return e.encode?e.strict?u(t):encodeURIComponent(t):t}var v={extract:function(t){return t.split("?")[1]||""},parse:function(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=h({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),a=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(a),o,r)})),Object.keys(r).sort().reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(n):t[e]=n,t}),Object.create(null))):r},stringify:function(t,e){var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[m(e,t),"[",r,"]"].join(""):[m(e,t),"[",m(r,t),"]=",m(n,t)].join("")};case"bracket":return function(e,n){return null===n?m(e,t):[m(e,t),"[]=",m(n,t)].join("")};default:return function(e,n){return null===n?m(e,t):[m(e,t),"=",m(n,t)].join("")}}}(e=h({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map((function(r){var a=t[r];if(void 0===a)return"";if(null===a)return m(r,e);if(Array.isArray(a)){var o=[];return a.slice().forEach((function(t){void 0!==t&&o.push(n(r,t,o.length))})),o.join("&")}return m(r,e)+"="+m(a,e)})).filter((function(t){return t.length>0})).join("&"):""}},g=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)y.call(n,r)&&(t[r]=n[r])}return t},y=Object.prototype.hasOwnProperty;var $=function(t){var e,n=new s,r="",a=((e=document.createElement("a")).href="#x x",!/x x/.test(e.hash));function o(e){return function(n){n!==r&&e(t,n)}}return t.addEventListener("hashchange",(function(){r!==n.get()&&(r=n.get(),n.emit("hashchange"))})),n.go=o(w),n.replace=o(b),n.get=x.bind(null,t,a),n};function b(t,e){var n,r;t.location.replace((n=t.location.href,(-1===(r=n.indexOf("#"))?n:n.substring(0,r))+"#"+e))}function w(t,e){t.location.hash=e}function x(t,e){var n,r=(n=t.location.hash)&&"#"===n[0]?n.substr(1):n;return e?decodeURI(r):r}function C(t,e,n,r){!function(t,e,n,r){var a=function(t){var e=t.split("?");return{path:e.shift(),queryString:v.parse(e.join(""))}}(e);e=a.path;var o=a.queryString,i=function(t,e){for(var n=0;n<t.length;++n)if(e.match(t[n]))return t[n]}(n?(c=t,c.slice().reverse()):t,e);var c;if(i){var s=i.exec(e),u=function(t,e){return t.reduce((function(t,n,r){return t[n.name]=e[r+1],t}),{})}(i.keys,s),l=g(o,u);i.fn(l)}else r(e,o)}(t,O(e.get()),n,r)}function E(t,e,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var a=r(e);a.fn=n,t.push(a)}function j(t,e,n,r,a){var o=O(e.get());!o||"/"===o&&"/"!==a?e.go(a):C(t.slice(),e,n,r)}var _=/^([^#]*)(:?#.*)?$/;function O(t){var e=t.match(_);return e?e[1]:""}var S=v.stringify;function A(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var k=A((function(t){var e=Object.keys(t);e.forEach((function(e){if(!Array.isArray(t[e]))throw new Error(e+" is not an array")}));var n=e.reduce((function(e,n){var r=t[n].length;return e>r?e:r}),0),r=[];function a(n){var r={};return e.forEach((function(e){r[e]=t[e][n]})),r}for(var o=0;o<n;++o)r.push(a(o));return r})),P=A(r),G=A((function(t){return function(){var e=this,n=Array.prototype.slice.call(arguments);return new Promise((function(r,a){n.push((function(t,e){t?a(t):r(e)}));var o=t.apply(e,n);o&&("object"==typeof o||"function"==typeof o)&&"function"==typeof o.then&&r(o)}))}})),D=A(s),L=A((function(t,e){var n=new s;function r(t,e){n.emit("not found",t,e)}(function(t){return t&&t.go&&t.replace&&t.on})(t)&&(e=t,t=null),t=t||{},e||(e=$(window));var a=[],o=C.bind(null,a,e,!!t.reverse,r);return e.on("hashchange",o),n.add=E.bind(null,a),n.stop=function(){e.removeListener("hashchange",o)},n.evaluateCurrent=j.bind(null,a,e,!!t.reverse,r),n.replace=e.replace,n.go=e.go,n.location=e,n})),T=A((function(t,e){var n,a="string"==typeof t?{regex:n=r(t),allTokens:n.allTokens}:t,o=a.allTokens,i=a.regex;if(e){var c=o.map((function(n){if(n.string)return n.string;var r=void 0!==e[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+t);return r?n.delimiter+encodeURIComponent(e[n.name]):""})).join("");if(!i.test(c))throw new Error("Provided arguments do not match the original arguments");return function(t,e,n){var r=function(t,e){var n=e.reduce((function(t,e){return e.string||(t[e.name]=e),t}),{});return Object.keys(t).filter((function(t){return!n[t]})).reduce((function(e,n){return e[n]=t[n],e}),{})}(e,n);if(0===Object.keys(r).length)return t;return t+"?"+S(r)}(c,e,o)}return a})),R=A((function(t){"function"==typeof setImmediate?setImmediate(t):setTimeout(t,0)}));var N=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){t.exports=function(t){return t.split(".").reduce((function(t,e){return t.push(t.length?t[t.length-1]+"."+e:e),t}),[])}})),I=function(){var t={};function e(e){return N(e).map((function(e){if(!t[e])throw new Error("State "+e+" not found");return t[e]}))}function n(t){var e=N(t);return e.length>1?e[e.length-2]:null}return{add:function(e,n){t[e]=n},get:function(e){return e&&t[e]},getHierarchy:e,getParent:function(e){var r=n(e);return r&&t[r]},getParentName:n,guaranteeAllStatesExist:function(e){var n=N(e).filter((function(e){return!t[e]}));if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")},buildFullStateRoute:function(t){return e(t).map((function(t){return"/"+(t.route||"")})).join("").replace(/\/{2,}/g,"/")},applyDefaultChildStates:function e(n){var r=t[n],a=r&&("function"==typeof r.defaultChild?r.defaultChild():r.defaultChild);return a?e(n+"."+a):n}}},q=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(e))},M=function(t){var e,n=(e={},function(t){return t?(e[t]||(e[t]=P(t).keys.map((function(t){return t.name}))),e[t]):[]}),r=function(e){return function(t){var e=t.stateState,n=t.getPathParameters,r=t.stateName,a=t.fromParameters,o=t.toParameters,i=e.get(r),c=i.querystringParameters||[],s=n(i.route).concat(c);return Array.isArray(s)&&s.some((function(t){return a[t]!==o[t]}))}(q(e,{stateState:t,getPathParameters:n}))};return function(t){return function(t){var e=t.parametersChanged,n=t.original,r=t.destination;return k({start:N(n.name),end:N(r.name)}).map((function(t){var a=t.start,o=t.end;return{nameBefore:a,nameAfter:o,stateNameChanged:a!==o,stateParametersChanged:a===o&&e({stateName:a,fromParameters:n.parameters,toParameters:r.parameters})}}))}(q(t,{parametersChanged:r}))}};var B=function(){var t={name:"",parameters:{}};return{get:function(){return t},set:function(e,n){t={name:e,parameters:n}}}},F=function(t){var e=!1,n=!1,r={destroy:[],change:[],create:[]};return t.forEach((function(t){e=e||t.stateParametersChanged,n=n||t.stateNameChanged,t.nameBefore&&(n?r.destroy.push(t.nameBefore):e&&r.change.push(t.nameBefore)),t.nameAfter&&n&&r.create.push(t.nameAfter)})),r},U=function(t){var e=null,n=null;function r(){e=null,n&&o()}var a=function(){return!!e};function o(){e=n,n=null,e.beginStateChange()}t.on("stateChangeAttempt",(function(r){var i,c;i=r,n={transition:c={cancelled:!1,cancellable:!0},beginStateChange:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,[c].concat(e))}},a()&&e.transition.cancellable?function(){e.transition.cancelled=!0;var n=new Error("State transition cancelled by the state transition manager");n.wasCancelledBySomeoneElse=!0,t.emit("stateChangeCancelled",n)}():a()||o()})),t.on("stateChangeError",r),t.on("stateChangeCancelled",r),t.on("stateChangeEnd",r)},z={reverse:!1},J=function(t,e){var n=Promise.resolve();return Promise.all(t.map((function(r,a){return n=n.then((function(){return e(r,a,t)}))})))},Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V=function(t){return function(e){return e[t]}},H=function(t){return t.slice().reverse()},K=function(t){return function(e){return"function"==typeof e[t]}},W=function(t){return t&&("object"===(void 0===t?"undefined":Q(t))||"function"==typeof t)&&"function"==typeof t.then},X=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise((function(e){return e(t.apply(void 0,n))}))},Y=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"];function Z(t,e){return N(e).filter((function(e){return t[e]})).reduce((function(e,n){return q(e,t[n])}),{})}function tt(t,e){return{redirectTo:{name:t,params:e}}}function et(t,e){var n=t.filter(K("resolve")),r=n.map(V("name"));return Promise.all(n.map((function(t){return new Promise((function(n,r){var a=function(t,e){return t?r(t):n(e)};a.redirect=function(t,e){r(tt(t,e))};var o=t.resolve(t.data,e,a);W(o)&&n(o)}))}))).then((function(t){return k({stateName:r,resolveResult:t}).reduce((function(t,e){return t[e.stateName]=e.resolveResult,t}),{})}))}var nt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=I(),a=B(),o=B(),i=new D,c=M(r),s=function(t){return N(t).map(r.get)};U(i);var u=q({throwOnError:!0,pathPrefix:"#"},n),l=u.throwOnError,f=u.pathPrefix,d=n.router||L(z);d.on("not found",(function(t,e){i.emit("routeNotFound",t,e)}));var p=null,h=null,m=null,v=null,g={},y={},$={};function b(t,e){R((function(){if(i.emit(t,e),console.error(t+" - "+e.message),l)throw e}))}function w(t){var e=r.get(t);return i.emit("beforeDestroyState",{state:e,domApi:y[t]}),$[t].emit("destroy"),$[t].removeAllListeners(),delete $[t],delete g[t],p(y[t]).then((function(){delete y[t],i.emit("afterDestroyState",{state:e})}))}function x(t,e){var n=y[e],a=Z(g,e),o=r.get(e);return i.emit("beforeResetState",{domApi:n,content:a,state:o,parameters:t}),$[e].emit("destroy"),delete $[e],v({domApi:n,content:a,template:o.template,parameters:t}).then((function(n){n&&(y[e]=n),i.emit("afterResetState",{domApi:y[e],content:a,state:o,parameters:t})}))}function C(t){return new Promise((function(n){var a=r.getParent(t);if(a){var o=y[a.name];n(h(o))}else n(e)}))}function E(t,e){return C(e).then((function(n){var a=r.get(e),o=Z(g,e);return i.emit("beforeCreateState",{state:a,content:o,parameters:t}),m({template:a.template,element:n,content:o,parameters:t}).then((function(n){return y[e]=n,i.emit("afterCreateState",{state:a,domApi:n,content:o,parameters:t}),n}))}))}function j(t,e){return J(t,(function(t){return E(e,t)}))}function _(t,e){try{var n=r.applyDefaultChildStates(t.name);if(n===t.name)A(n,e);else P(n,e)===d.location.get()?A(n,e):i.go(n,e,{replace:!0})}catch(t){b("stateError",t)}}function O(t){if(void 0===t)throw new Error("Expected 'state' to be passed in.");if(void 0===t.name)throw new Error("Expected the 'name' option to be passed in.");if(void 0===t.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(t).filter((function(t){return-1===Y.indexOf(t)})).forEach((function(t){console.warn("Unexpected property passed to addState:",t)})),r.add(t.name,t);var e=r.buildFullStateRoute(t.name);d.add(e,(function(e){return _(t,e)}))}function S(t){return t.change.concat(t.create).map(r.get)}function A(t,e){i.emit("stateChangeAttempt",(function(n){k(t,e,n)}))}function k(t,e,n){function u(e){return function(){if(n.cancelled){var r=new Error("The transition to "+t+" was cancelled");throw r.wasCancelledBySomeoneElse=!0,r}return e.apply(void 0,arguments)}}return X(r.guaranteeAllStatesExist,t).then((function(){var n=r.get(t),a=n.defaultParameters||n.defaultQuerystringParameters||{};if(Object.keys(a).some((function(t){return void 0===e[t]})))throw tt(t,q(a,e));return n})).then(u((function(t){i.emit("stateChangeStart",t,e,s(t.name)),o.set(t.name,e)}))).then((function(){var n=c({original:a.get(),destination:{name:t,parameters:e}});return F(n)})).then(u((function(t){return et(S(t),q(e)).catch((function(t){throw t.stateChangeError=!0,t})).then(u((function(a){n.cancellable=!1;var o=function(){return t.change.concat(t.create).map(r.get).forEach((function(t){var n=new D,r=Object.create(n);r.domApi=y[t.name],r.data=t.data,r.parameters=e,r.content=Z(g,t.name),$[t.name]=n;try{t.activate&&t.activate(r)}catch(t){R((function(){throw t}))}}))};return g=q(g,a),J(H(t.destroy),w).then((function(){return J(H(t.change),(function(t){return x(q(e),t)}))})).then((function(){return j(t.create,q(e)).then(o)}))})))}))).then((function(){a.set(t,e);try{i.emit("stateChangeEnd",r.get(t),e,s(t))}catch(t){b("stateError",t)}})).catch(u((function(t){if(t&&t.redirectTo)return i.emit("stateChangeCancelled",t),i.go(t.redirectTo.name,t.redirectTo.params,{replace:!0});t&&b("stateChangeError",t)}))).catch((function(t){if(!t||!t.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+t)}))}function P(t,e,n){function a(){if(!o.get().name)throw new Error("makePath required a previous state to exist, and none was found");return o.get()}n&&n.inherit&&(e=q(a().parameters,e));var i=null===t?a().name:t,c=r.get(i)||{},s=c.defaultParameters||c.defaultQuerystringParameters;e=q(s,e),r.guaranteeAllStatesExist(i);var u=r.buildFullStateRoute(i);return T(u,e||{})}var Q={replace:!1};i.addState=O,i.go=function(t,e,n){var r=(n=q(Q,n)).replace?d.replace:d.go;return X(P,t,e,n).then(r,(function(t){return b("stateChangeError",t)}))},i.evaluateCurrentRoute=function(t,e){return X(P,t,e).then((function(t){d.evaluateCurrent(t)})).catch((function(t){return b("stateError",t)}))},i.makePath=function(t,e,n){return f+P(t,e,n)},i.getActiveState=function(){return a.get()},i.stateIsActive=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.get(),r=n.name===t||0===n.name.indexOf(t+"."),o=!e;return r&&(o||Object.keys(e).every((function(t){return e[t]===n.parameters[t]})))};var V=t(i);return p=G(V.destroy),h=G(V.getChildElement),m=G(V.render),v=G(V.reset),i};function rt(){}function at(t,e){for(const n in e)t[n]=e[n];return t}function ot(t){return t()}function it(){return Object.create(null)}function ct(t){t.forEach(ot)}function st(t){return"function"==typeof t}function ut(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function lt(t,e,n){if(t){const r=ft(t,e,n);return t[0](r)}}function ft(t,e,n){return t[1]?at({},at(e.$$scope.ctx,t[1](n?n(e):{}))):e.$$scope.ctx}function dt(t,e,n,r){return t[1]?at({},at(e.$$scope.changed||{},t[1](r?r(n):{}))):e.$$scope.changed||{}}function pt(t,e){t.appendChild(e)}function ht(t,e,n){t.insertBefore(e,n||null)}function mt(t){t.parentNode.removeChild(t)}function vt(t){return document.createElement(t)}function gt(t){return document.createTextNode(t)}function yt(){return gt(" ")}function $t(){return gt("")}function bt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function wt(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function xt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ct(t,e){(null!=e||t.value)&&(t.value=e)}let Et;function jt(t){Et=t}function _t(){const t=Et;return(e,n)=>{const r=t.$$.callbacks[e];if(r){const a=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,a)})}}}const Ot=[],St=[],At=[],kt=[],Pt=Promise.resolve();let Gt=!1;function Dt(t){At.push(t)}function Lt(){const t=new Set;do{for(;Ot.length;){const t=Ot.shift();jt(t),Tt(t.$$)}for(;St.length;)St.pop()();for(let e=0;e<At.length;e+=1){const n=At[e];t.has(n)||(n(),t.add(n))}At.length=0}while(Ot.length);for(;kt.length;)kt.pop()();Gt=!1}function Tt(t){t.fragment&&(t.update(t.dirty),ct(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(Dt))}const Rt=new Set;let Nt;function It(t,e){t&&t.i&&(Rt.delete(t),t.i(e))}function qt(t,e,n,r){if(t&&t.o){if(Rt.has(t))return;Rt.add(t),Nt.c.push(()=>{Rt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Mt(t,e){qt(t,1,1,()=>{e.delete(t.key)})}function Bt(t,e,n){const{fragment:r,on_mount:a,on_destroy:o,after_update:i}=t.$$;r.m(e,n),Dt(()=>{const e=a.map(ot).filter(st);o?o.push(...e):ct(e),t.$$.on_mount=[]}),i.forEach(Dt)}function Ft(t,e){t.$$.fragment&&(ct(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function Ut(t,e){t.$$.dirty||(Ot.push(t),Gt||(Gt=!0,Pt.then(Lt)),t.$$.dirty=it()),t.$$.dirty[e]=!0}function zt(t,e,n,r,a,o){const i=Et;jt(t);const c=e.props||{},s=t.$$={fragment:null,ctx:null,props:o,update:rt,not_equal:a,bound:it(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:it(),dirty:null};let u=!1;s.ctx=n?n(t,c,(e,n,r=n)=>(s.ctx&&a(s.ctx[e],s.ctx[e]=r)&&(s.bound[e]&&s.bound[e](r),u&&Ut(t,e)),n)):c,s.update(),u=!0,ct(s.before_update),s.fragment=r(s.ctx),e.target&&(e.hydrate?s.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):s.fragment.c(),e.intro&&It(t.$$.fragment),Bt(t,e.target,e.anchor),Lt()),jt(i)}class Jt{$destroy(){Ft(this,1),this.$destroy=rt}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Qt(t){var e,n,r,a,o,i,c,s,u,l,f,d,p,h,m,v,g;return{c(){e=vt("ul"),n=vt("li"),r=vt("a"),a=gt("Dashboard"),i=yt(),c=vt("li"),s=vt("a"),u=gt("History"),f=yt(),d=vt("li"),p=vt("a"),h=gt("Configure"),v=yt(),g=vt("uiView"),wt(r,"href",o=t.asr.makePath("app.dashboard")),wt(n,"class","svelte-1pahixz"),wt(s,"href",l=t.asr.makePath("app.history")),wt(c,"class","svelte-1pahixz"),wt(p,"href",m=t.asr.makePath("app.configure")),wt(d,"class","svelte-1pahixz"),wt(e,"class","svelte-1pahixz")},m(t,o){ht(t,e,o),pt(e,n),pt(n,r),pt(r,a),pt(e,i),pt(e,c),pt(c,s),pt(s,u),pt(e,f),pt(e,d),pt(d,p),pt(p,h),ht(t,v,o),ht(t,g,o)},p(t,e){t.asr&&o!==(o=e.asr.makePath("app.dashboard"))&&wt(r,"href",o),t.asr&&l!==(l=e.asr.makePath("app.history"))&&wt(s,"href",l),t.asr&&m!==(m=e.asr.makePath("app.configure"))&&wt(p,"href",m)},i:rt,o:rt,d(t){t&&(mt(e),mt(v),mt(g))}}}function Vt(t,e,n){let{asr:r}=e;return t.$set=t=>{"asr"in t&&n("asr",r=t.asr)},{asr:r}}class Ht extends Jt{constructor(t){super(),zt(this,t,Vt,Qt,ut,["asr"])}}const Kt=()=>({}),Wt=()=>({}),Xt=()=>({}),Yt=()=>({}),Zt=()=>({}),te=()=>({});function ee(t){var e,n,r,a;const o=t.$$slots.header,i=lt(o,t,te),c=t.$$slots.body,s=lt(c,t,Yt),u=t.$$slots.footer,l=lt(u,t,Wt);return{c(){e=vt("div"),i&&i.c(),n=yt(),s&&s.c(),r=yt(),l&&l.c(),wt(e,"class","card svelte-1de11vq")},l(t){i&&i.l(div_nodes),s&&s.l(div_nodes),l&&l.l(div_nodes)},m(t,o){ht(t,e,o),i&&i.m(e,null),pt(e,n),s&&s.m(e,null),pt(e,r),l&&l.m(e,null),a=!0},p(t,e){i&&i.p&&t.$$scope&&i.p(dt(o,e,t,Zt),ft(o,e,te)),s&&s.p&&t.$$scope&&s.p(dt(c,e,t,Xt),ft(c,e,Yt)),l&&l.p&&t.$$scope&&l.p(dt(u,e,t,Kt),ft(u,e,Wt))},i(t){a||(It(i,t),It(s,t),It(l,t),a=!0)},o(t){qt(i,t),qt(s,t),qt(l,t),a=!1},d(t){t&&mt(e),i&&i.d(t),s&&s.d(t),l&&l.d(t)}}}function ne(t,e,n){let{$$slots:r={},$$scope:a}=e;return t.$set=t=>{"$$scope"in t&&n("$$scope",a=t.$$scope)},{$$slots:r,$$scope:a}}class re extends Jt{constructor(t){super(),zt(this,t,ne,ee,ut,[])}}function ae(t){var e,n,r;const a=t.$$slots.default,o=lt(a,t,null);return{c(){e=vt("div"),o||(n=gt("Empty container.")),o&&o.c(),wt(e,"class","svelte-y85ngz")},l(t){o&&o.l(div_nodes)},m(t,a){ht(t,e,a),o?o.m(e,null):pt(e,n),r=!0},p(t,e){o&&o.p&&t.$$scope&&o.p(dt(a,e,t,null),ft(a,e,null))},i(t){r||(It(o,t),r=!0)},o(t){qt(o,t),r=!1},d(t){t&&mt(e),o&&o.d(t)}}}function oe(t,e,n){let{$$slots:r={},$$scope:a}=e;return t.$set=t=>{"$$scope"in t&&n("$$scope",a=t.$$scope)},{$$slots:r,$$scope:a}}class ie extends Jt{constructor(t){super(),zt(this,t,oe,ae,ut,[])}}function ce(t){var e;return{c(){(e=vt("div")).textContent="Edit the daily goal amount.",wt(e,"slot","header")},m(t,n){ht(t,e,n)},d(t){t&&mt(e)}}}function se(t){var e,n,r,a,o,i,c,s,u,l=!1;function f(){l=!0,t.input_input_handler.call(a)}return{c(){e=vt("div"),(n=vt("label")).textContent="Daily Goal (ounces)",r=yt(),a=vt("input"),o=yt(),i=vt("button"),c=gt("Save"),wt(n,"for","daily-goal"),wt(a,"type","number"),wt(a,"id","daily-goal"),i.disabled=s=t.savingDailyGoal||t.dailyGoal===t.initialDailyGoal,wt(e,"slot","body"),u=[bt(a,"input",f),bt(i,"click",t.click_handler)]},m(s,u){ht(s,e,u),pt(e,n),pt(e,r),pt(e,a),Ct(a,t.dailyGoal),pt(e,o),pt(e,i),pt(i,c)},p(t,e){!l&&t.dailyGoal&&Ct(a,e.dailyGoal),l=!1,(t.savingDailyGoal||t.dailyGoal||t.initialDailyGoal)&&s!==(s=e.savingDailyGoal||e.dailyGoal===e.initialDailyGoal)&&(i.disabled=s)},d(t){t&&mt(e),ct(u)}}}function ue(t){var e;return{c(){e=yt()},m(t,n){ht(t,e,n)},p:rt,d(t){t&&mt(e)}}}function le(t){var e,n,r,a,o,i=new re({props:{$$slots:{default:[ue],body:[se],header:[ce]},$$scope:{ctx:t}}});return{c(){i.$$.fragment.c(),e=yt(),n=vt("br"),r=yt(),a=vt("uiView")},m(t,c){Bt(i,t,c),ht(t,e,c),ht(t,n,c),ht(t,r,c),ht(t,a,c),o=!0},p(t,e){var n={};(t.$$scope||t.savingDailyGoal||t.dailyGoal||t.initialDailyGoal)&&(n.$$scope={changed:t,ctx:e}),i.$set(n)},i(t){o||(It(i.$$.fragment,t),o=!0)},o(t){qt(i.$$.fragment,t),o=!1},d(t){Ft(i,t),t&&(mt(e),mt(n),mt(r),mt(a))}}}function fe(t){var e,n=new ie({props:{$$slots:{default:[le]},$$scope:{ctx:t}}});return{c(){n.$$.fragment.c()},m(t,r){Bt(n,t,r),e=!0},p(t,e){var r={};(t.$$scope||t.savingDailyGoal||t.dailyGoal||t.initialDailyGoal)&&(r.$$scope={changed:t,ctx:e}),n.$set(r)},i(t){e||(It(n.$$.fragment,t),e=!0)},o(t){qt(n.$$.fragment,t),e=!1},d(t){Ft(n,t)}}}function de(t,e,n){const r=_t();let{initialDailyGoal:a="",dailyGoal:o="",savingDailyGoal:i=!1}=e;return t.$set=t=>{"initialDailyGoal"in t&&n("initialDailyGoal",a=t.initialDailyGoal),"dailyGoal"in t&&n("dailyGoal",o=t.dailyGoal),"savingDailyGoal"in t&&n("savingDailyGoal",i=t.savingDailyGoal)},{dispatch:r,initialDailyGoal:a,dailyGoal:o,savingDailyGoal:i,input_input_handler:function(){var t;t=this.value,n("dailyGoal",o=""===t?void 0:+t)},click_handler:()=>r("dailyGoal",o)}}class pe extends Jt{constructor(t){super(),zt(this,t,de,fe,ut,["initialDailyGoal","dailyGoal","savingDailyGoal"])}}async function he(t){const e=localStorage.getItem(t);return e&&JSON.parse(e)}var me=async t=>{await async function(t,e){localStorage.setItem(t,JSON.stringify(e))}("dailyGoal",t)};function ve(t){var e,n;return{c(){(e=vt("p")).textContent="route: app.dashboard",n=gt("\n\nSweet bottle vector graphic\n\n|   |\n|~~~|\n|   |\n-----\n\ntapping on it brings up modal/list of containers\n\nshow you how close to your goal")},m(t,r){ht(t,e,r),ht(t,n,r)},p:rt,i:rt,o:rt,d(t){t&&(mt(e),mt(n))}}}class ge extends Jt{constructor(t){super(),zt(this,t,null,ve,ut,[])}}function ye(t){var e,n,r;return{c(){(e=vt("p")).textContent="route: app.history",n=yt(),(r=vt("p")).textContent="This should show some historic data of liquids logged."},m(t,a){ht(t,e,a),ht(t,n,a),ht(t,r,a)},p:rt,i:rt,o:rt,d(t){t&&(mt(e),mt(n),mt(r))}}}class $e extends Jt{constructor(t){super(),zt(this,t,null,ye,ut,[])}}function be(t,e,n){const r=Object.create(t);return r.container=e[n],r.index=n,r}function we(t){var e,n,r,a,o,i=t.container.name+"",c=t.container.volume+"";return{c(){e=vt("div"),n=gt(i),r=gt("\n\t\t\t-\n\t\t\t"),a=gt(c),o=gt("oz"),wt(e,"slot","header")},m(t,i){ht(t,e,i),pt(e,n),pt(e,r),pt(e,a),pt(e,o)},p(t,e){t.containerList&&i!==(i=e.container.name+"")&&xt(n,i),t.containerList&&c!==(c=e.container.volume+"")&&xt(a,c)},d(t){t&&mt(e)}}}function xe(t){var e,n,r;return{c(){wt(e=vt("img"),"src",n=t.container.image),wt(e,"alt",r="Image of "+t.container.name+" container."),wt(e,"class","svelte-lz2jd6")},m(t,n){ht(t,e,n)},p(t,a){t.containerList&&n!==(n=a.container.image)&&wt(e,"src",n),t.containerList&&r!==(r="Image of "+a.container.name+" container.")&&wt(e,"alt",r)},d(t){t&&mt(e)}}}function Ce(t){var e,n,r,a,o,i,c=t.container.image&&xe(t);return{c(){e=vt("div"),c&&c.c(),n=yt(),r=vt("p"),a=vt("a"),o=gt("Edit Container"),wt(a,"href",i=t.asr.makePath("app.configure.container.edit",{id:t.container.id})),wt(e,"slot","body")},m(t,i){ht(t,e,i),c&&c.m(e,null),pt(e,n),pt(e,r),pt(r,a),pt(a,o)},p(t,r){r.container.image?c?c.p(t,r):((c=xe(r)).c(),c.m(e,n)):c&&(c.d(1),c=null),(t.asr||t.containerList)&&i!==(i=r.asr.makePath("app.configure.container.edit",{id:r.container.id}))&&wt(a,"href",i)},d(t){t&&mt(e),c&&c.d()}}}function Ee(t){var e,n;return{c(){e=yt(),n=yt()},m(t,r){ht(t,e,r),ht(t,n,r)},p:rt,d(t){t&&(mt(e),mt(n))}}}function je(t,e){var n,r,a=new re({props:{$$slots:{default:[Ee],body:[Ce],header:[we]},$$scope:{ctx:e}}});return{key:t,first:null,c(){n=$t(),a.$$.fragment.c(),this.first=n},m(t,e){ht(t,n,e),Bt(a,t,e),r=!0},p(t,e){var n={};(t.$$scope||t.asr||t.containerList)&&(n.$$scope={changed:t,ctx:e}),a.$set(n)},i(t){r||(It(a.$$.fragment,t),r=!0)},o(t){qt(a.$$.fragment,t),r=!1},d(t){t&&mt(n),Ft(a,t)}}}function _e(t){var e,n,r,a,o=[],i=new Map;let c=t.containerList;const s=t=>t.container.id;for(let e=0;e<c.length;e+=1){let n=be(t,c,e),r=s(n);i.set(r,o[e]=je(r,n))}return{c(){(e=vt("h3")).textContent="Containers",n=yt();for(let t=0;t<o.length;t+=1)o[t].c();r=$t()},m(t,i){ht(t,e,i),ht(t,n,i);for(let e=0;e<o.length;e+=1)o[e].m(t,i);ht(t,r,i),a=!0},p(t,e){const n=e.containerList;Nt={r:0,c:[],p:Nt},o=function(t,e,n,r,a,o,i,c,s,u,l,f){let d=t.length,p=o.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const v=[],g=new Map,y=new Map;for(h=p;h--;){const t=f(a,o,h),c=n(t);let s=i.get(c);s?r&&s.p(e,t):(s=u(c,t)).c(),g.set(c,v[h]=s),c in m&&y.set(c,Math.abs(h-m[c]))}const $=new Set,b=new Set;function w(t){It(t,1),t.m(c,l),i.set(t.key,t),l=t.first,p--}for(;d&&p;){const e=v[p-1],n=t[d-1],r=e.key,a=n.key;e===n?(l=e.first,d--,p--):g.has(a)?!i.has(r)||$.has(r)?w(e):b.has(a)?d--:y.get(r)>y.get(a)?(b.add(r),w(e)):($.add(a),d--):(s(n,i),d--)}for(;d--;){const e=t[d];g.has(e.key)||s(e,i)}for(;p;)w(v[p-1]);return v}(o,t,s,1,e,n,i,r.parentNode,Mt,je,r,be),Nt.r||ct(Nt.c),Nt=Nt.p},i(t){if(!a){for(let t=0;t<c.length;t+=1)It(o[t]);a=!0}},o(t){for(let t=0;t<o.length;t+=1)qt(o[t]);a=!1},d(t){t&&(mt(e),mt(n));for(let e=0;e<o.length;e+=1)o[e].d(t);t&&mt(r)}}}function Oe(t,e,n){let{asr:r={},containerList:a=[]}=e;return t.$set=t=>{"asr"in t&&n("asr",r=t.asr),"containerList"in t&&n("containerList",a=t.containerList)},{asr:r,containerList:a}}class Se extends Jt{constructor(t){super(),zt(this,t,Oe,_e,ut,["asr","containerList"])}}const Ae={id:"container1",name:"Mason Jar",volume:24,image:"/asset/favicon/android-chrome-512x512.png"},ke={id:"container2",name:"Glass Cup",volume:10,image:"/asset/favicon/android-chrome-512x512.png"};var Pe=async()=>{return await he("containerList")||[Ae,ke]};function Ge(t){var e;return{c(){(e=vt("p")).textContent="route: app.configure.container.edit"},m(t,n){ht(t,e,n)},p:rt,i:rt,o:rt,d(t){t&&mt(e)}}}class De extends Jt{constructor(t){super(),zt(this,t,null,Ge,ut,[])}}var Le=[({asr:t})=>{t.addState({name:"app",route:"/app",defaultChild:"dashboard",template:Ht})},({asr:t})=>{t.addState({name:"app.configure",route:"/configure",defaultChild:"container",template:pe,resolve:async(t,e)=>{const n=await(async()=>{return await he("dailyGoal")||120})();return{dailyGoal:n,initialDailyGoal:n}},activate({domApi:t}){t.$on("dailyGoal",async e=>{t.$set({savingDailyGoal:!0}),await me(e.detail),t.$set({initialDailyGoal:e.detail,savingDailyGoal:!1})})}})},({asr:t})=>{t.addState({name:"app.dashboard",route:"/dashboard",template:ge,resolve:async(t,e)=>({hello:"world"}),activate({domApi:t}){}})},({asr:t})=>{t.addState({name:"app.history",route:"/history",template:$e,resolve:async(t,e)=>({hello:"world"}),activate({domApi:t}){}})},({asr:t})=>{t.addState({name:"app.configure.container",route:"/container",template:Se,resolve:async(t,e)=>({containerList:await Pe()}),activate({domApi:t}){}})},({asr:t})=>{t.addState({name:"app.configure.container.edit",route:"/edit/:id",template:De,resolve:async(t,e)=>({container:{}}),activate({domApi:t}){}})}];const Te=nt(function(t={}){return function(n){const r={makePath:n.makePath,stateIsActive:n.stateIsActive};function a(a,o){const{element:i,template:c,content:s}=a,u=e(t,{target:i,props:Object.assign(s,t.props,{asr:r})});function l(t,e){return new t(e)}let f;try{if("function"==typeof c)f=l(c,u);else{const t=e(u,c.options);f=l(c.component,t)}}catch(t){return void o(t)}function d(){f.$set({asr:r})}n.on("stateChangeEnd",d),f.asrOnDestroy=()=>n.removeListener("stateChangeEnd",d),f.mountedToTarget=i,o(null,f)}return{render:a,reset:function(t,e){const n=t.domApi,r=n.mountedToTarget;n.asrOnDestroy(),n.$destroy(),a(Object.assign({element:r},t),e)},destroy:function(t,e){t.asrOnDestroy(),t.$destroy(),e()},getChildElement:function(t,e){try{e(null,t.mountedToTarget.querySelector("uiView"))}catch(t){e(t)}}}}}({props:{}}),document.body);return Le.forEach(t=>t({asr:Te})),Te.evaluateCurrentRoute("app"),Te}();
//# sourceMappingURL=bundle.js.map
